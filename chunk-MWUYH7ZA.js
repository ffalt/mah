import{C as Ne,D as Be,a as J,b as Q,d as Oe,g as Pe,m as g}from"./chunk-XMPER2Q5.js";import{$ as Ae,B as ge,I as h,J as Z,M as pe,N as De,O as Y,P as me,Q as M,R as W,S as K,T as v,U as A,V as ye,W as Ce,X as Ee,Y as we,Z as Se,_ as ve,a as B,aa as E,b as k,f as he,ha as I,ia as _e,ja as Fe,la as w,ma as be,na as Me,oa as X,ra as T,rb as Le,s as p,sa as Ie,sb as Re,t as D,u as f,v as _,w as F,wa as Te,x as u,xa as x,y as b,ya as $,za as q}from"./chunk-UWITPWPI.js";var ke=null;function y(){return ke}function ee(r){ke??=r}var L=class{};var te=/\s+/,xe=[],Je=(()=>{class r{_ngEl;_renderer;initialClasses=xe;rawClass;stateMap=new Map;constructor(e,t){this._ngEl=e,this._renderer=t}set klass(e){this.initialClasses=e!=null?e.trim().split(te):xe}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(te):e}ngDoCheck(){for(let t of this.initialClasses)this._updateState(t,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let t of e)this._updateState(t,!0);else if(e!=null)for(let t of Object.keys(e))this._updateState(t,!!e[t]);this._applyStateDiff()}_updateState(e,t){let n=this.stateMap.get(e);n!==void 0?(n.enabled!==t&&(n.changed=!0,n.enabled=t),n.touched=!0):this.stateMap.set(e,{enabled:t,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let t=e[0],n=e[1];n.changed?(this._toggleClass(t,n.enabled),n.changed=!1):n.touched||(n.enabled&&this._toggleClass(t,!1),this.stateMap.delete(t)),n.touched=!1}}_toggleClass(e,t){e=e.trim(),e.length>0&&e.split(te).forEach(n=>{t?this._renderer.addClass(this._ngEl.nativeElement,n):this._renderer.removeClass(this._ngEl.nativeElement,n)})}static \u0275fac=function(t){return new(t||r)(X(pe),X(Me))};static \u0275dir=Ie({type:r,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return r})();var ne=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=T({type:r});static \u0275inj=_({})}return r})();var re="browser";function ir(r){return r===re}var R=class{_doc;constructor(i){this._doc=i}manager},j=(()=>{class r extends R{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n,o){return e.addEventListener(t,n,o),()=>this.removeEventListener(e,t,n,o)}removeEventListener(e,t,n,o){return e.removeEventListener(t,n,o)}static \u0275fac=function(t){return new(t||r)(u(h))};static \u0275prov=f({token:r,factory:r.\u0275fac})}return r})(),z=new F(""),ue=(()=>{class r{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,t){this._zone=t,e.forEach(s=>{s.manager=this});let n=e.filter(s=>!(s instanceof j));this._plugins=n.slice().reverse();let o=e.find(s=>s instanceof j);o&&this._plugins.push(o)}addEventListener(e,t,n,o){return this._findPluginFor(t).addEventListener(e,t,n,o)}getZone(){return this._zone}_findPluginFor(e){let t=this._eventNameToPlugin.get(e);if(t)return t;if(t=this._plugins.find(o=>o.supports(e)),!t)throw new p(5101,!1);return this._eventNameToPlugin.set(e,t),t}static \u0275fac=function(t){return new(t||r)(u(z),u(w))};static \u0275prov=f({token:r,factory:r.\u0275fac})}return r})(),ie="ng-app-id";function $e(r){for(let i of r)i.remove()}function Ue(r,i){let e=i.createElement("style");return e.textContent=r,e}function tt(r,i,e,t){let n=r.head?.querySelectorAll(`style[${ie}="${i}"],link[${ie}="${i}"]`);if(n)for(let o of n)o.removeAttribute(ie),o instanceof HTMLLinkElement?t.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function se(r,i){let e=i.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",r),e}var ce=(()=>{class r{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,t,n,o={}){this.doc=e,this.appId=t,this.nonce=n,tt(e,t,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,t){for(let n of e)this.addUsage(n,this.inline,Ue);t?.forEach(n=>this.addUsage(n,this.external,se))}removeStyles(e,t){for(let n of e)this.removeUsage(n,this.inline);t?.forEach(n=>this.removeUsage(n,this.external))}addUsage(e,t,n){let o=t.get(e);o?o.usage++:t.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,n(e,this.doc)))})}removeUsage(e,t){let n=t.get(e);n&&(n.usage--,n.usage<=0&&($e(n.elements),t.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])$e(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[t,{elements:n}]of this.inline)n.push(this.addElement(e,Ue(t,this.doc)));for(let[t,{elements:n}]of this.external)n.push(this.addElement(e,se(t,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,t){return this.nonce&&t.setAttribute("nonce",this.nonce),e.appendChild(t)}static \u0275fac=function(t){return new(t||r)(u(h),u(Y),u(W,8),u(M))};static \u0275prov=f({token:r,factory:r.\u0275fac})}return r})(),oe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},le=/%COMP%/g;var He="%COMP%",nt=`_nghost-${He}`,rt=`_ngcontent-${He}`,it=!0,ot=new F("",{providedIn:"root",factory:()=>it});function st(r){return rt.replace(le,r)}function at(r){return nt.replace(le,r)}function ze(r,i){return i.map(e=>e.replace(le,r))}var de=(()=>{class r{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,t,n,o,s,a,c,d=null,l=null){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=d,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new O(e,s,c,this.platformIsServer,this.tracingService)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;let n=this.getOrCreateRenderer(e,t);return n instanceof H?n.applyToHost(e):n instanceof P&&n.applyStyles(),n}getOrCreateRenderer(e,t){let n=this.rendererByCompId,o=n.get(t.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,C=this.platformIsServer,m=this.tracingService;switch(t.encapsulation){case K.Emulated:o=new H(c,d,t,this.appId,l,s,a,C,m);break;case K.ShadowDom:return new ae(c,d,e,t,s,a,this.nonce,C,m);default:o=new P(c,d,t,l,s,a,C,m);break}n.set(t.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(t){return new(t||r)(u(ue),u(ce),u(Y),u(ot),u(h),u(M),u(w),u(W),u(Fe,8))};static \u0275prov=f({token:r,factory:r.\u0275fac})}return r})(),O=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(i,e,t,n,o){this.eventManager=i,this.doc=e,this.ngZone=t,this.platformIsServer=n,this.tracingService=o}destroy(){}destroyNode=null;createElement(i,e){return e?this.doc.createElementNS(oe[e]||e,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,e){(je(i)?i.content:i).appendChild(e)}insertBefore(i,e,t){i&&(je(i)?i.content:i).insertBefore(e,t)}removeChild(i,e){e.remove()}selectRootElement(i,e){let t=typeof i=="string"?this.doc.querySelector(i):i;if(!t)throw new p(-5104,!1);return e||(t.textContent=""),t}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,e,t,n){if(n){e=n+":"+e;let o=oe[n];o?i.setAttributeNS(o,e,t):i.setAttribute(e,t)}else i.setAttribute(e,t)}removeAttribute(i,e,t){if(t){let n=oe[t];n?i.removeAttributeNS(n,e):i.removeAttribute(`${t}:${e}`)}else i.removeAttribute(e)}addClass(i,e){i.classList.add(e)}removeClass(i,e){i.classList.remove(e)}setStyle(i,e,t,n){n&(I.DashCase|I.Important)?i.style.setProperty(e,t,n&I.Important?"important":""):i.style[e]=t}removeStyle(i,e,t){t&I.DashCase?i.style.removeProperty(e):i.style[e]=""}setProperty(i,e,t){i!=null&&(i[e]=t)}setValue(i,e){i.nodeValue=e}listen(i,e,t,n){if(typeof i=="string"&&(i=y().getGlobalEventTarget(this.doc,i),!i))throw new p(5102,!1);let o=this.decoratePreventDefault(t);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(i,e,o)),this.eventManager.addEventListener(i,e,o,n)}decoratePreventDefault(i){return e=>{if(e==="__ngUnwrap__")return i;i(e)===!1&&e.preventDefault()}}};function je(r){return r.tagName==="TEMPLATE"&&r.content!==void 0}var ae=class extends O{sharedStylesHost;hostEl;shadowRoot;constructor(i,e,t,n,o,s,a,c,d){super(i,o,s,c,d),this.sharedStylesHost=e,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=n.styles;l=ze(n.id,l);for(let m of l){let S=document.createElement("style");a&&S.setAttribute("nonce",a),S.textContent=m,this.shadowRoot.appendChild(S)}let C=n.getExternalStyles?.();if(C)for(let m of C){let S=se(m,o);a&&S.setAttribute("nonce",a),this.shadowRoot.appendChild(S)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,e){return super.appendChild(this.nodeOrShadowRoot(i),e)}insertBefore(i,e,t){return super.insertBefore(this.nodeOrShadowRoot(i),e,t)}removeChild(i,e){return super.removeChild(null,e)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},P=class extends O{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(i,e,t,n,o,s,a,c,d){super(i,o,s,a,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=n;let l=t.styles;this.styles=d?ze(d,l):l,this.styleUrls=t.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&_e.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},H=class extends P{contentAttr;hostAttr;constructor(i,e,t,n,o,s,a,c,d){let l=n+"-"+t.id;super(i,e,t,o,s,a,c,d,l),this.contentAttr=st(l),this.hostAttr=at(l)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,e){let t=super.createElement(i,e);return super.setAttribute(t,this.contentAttr,""),t}};var V=class r extends L{supportsDOMEvents=!0;static makeCurrent(){ee(new r)}onAndCancel(i,e,t,n){return i.addEventListener(e,t,n),()=>{i.removeEventListener(e,t,n)}}dispatchEvent(i,e){i.dispatchEvent(e)}remove(i){i.remove()}createElement(i,e){return e=e||this.getDefaultDocument(),e.createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,e){return e==="window"?window:e==="document"?i:e==="body"?i.body:null}getBaseHref(i){let e=ut();return e==null?null:ct(e)}resetBaseElement(){N=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return J(document.cookie,i)}},N=null;function ut(){return N=N||document.head.querySelector("base"),N?N.getAttribute("href"):null}function ct(r){return new URL(r,document.baseURI).pathname}var G=class{addToWindow(i){D.getAngularTestability=(t,n=!0)=>{let o=i.findTestabilityInTree(t,n);if(o==null)throw new p(5103,!1);return o},D.getAllAngularTestabilities=()=>i.getAllTestabilities(),D.getAllAngularRootElements=()=>i.getAllRootElements();let e=t=>{let n=D.getAllAngularTestabilities(),o=n.length,s=function(){o--,o==0&&t()};n.forEach(a=>{a.whenStable(s)})};D.frameworkStabilizers||(D.frameworkStabilizers=[]),D.frameworkStabilizers.push(e)}findTestabilityInTree(i,e,t){if(e==null)return null;let n=i.getTestability(e);return n??(t?y().isShadowRoot(e)?this.findTestabilityInTree(i,e.host,!0):this.findTestabilityInTree(i,e.parentElement,!0):null)}},lt=(()=>{class r{build(){return new XMLHttpRequest}static \u0275fac=function(t){return new(t||r)};static \u0275prov=f({token:r,factory:r.\u0275fac})}return r})(),Ve=["alt","control","meta","shift"],dt={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ft={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey},Ge=(()=>{class r extends R{constructor(e){super(e)}supports(e){return r.parseEventName(e)!=null}addEventListener(e,t,n,o){let s=r.parseEventName(t),a=r.eventCallback(s.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>y().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let t=e.toLowerCase().split("."),n=t.shift();if(t.length===0||!(n==="keydown"||n==="keyup"))return null;let o=r._normalizeKey(t.pop()),s="",a=t.indexOf("code");if(a>-1&&(t.splice(a,1),s="code."),Ve.forEach(d=>{let l=t.indexOf(d);l>-1&&(t.splice(l,1),s+=d+".")}),s+=o,t.length!=0||o.length===0)return null;let c={};return c.domEventName=n,c.fullKey=s,c}static matchEventFullKeyCode(e,t){let n=dt[e.key]||e.key,o="";return t.indexOf("code.")>-1&&(n=e.code,o="code."),n==null||!n?!1:(n=n.toLowerCase(),n===" "?n="space":n==="."&&(n="dot"),Ve.forEach(s=>{if(s!==n){let a=ft[s];a(e)&&(o+=s+".")}}),o+=n,o===t)}static eventCallback(e,t,n){return o=>{r.matchEventFullKeyCode(o,e)&&n.runGuarded(()=>t(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(t){return new(t||r)(u(h))};static \u0275prov=f({token:r,factory:r.\u0275fac})}return r})();function ht(r,i,e){let t=B({rootComponent:r,platformRef:e?.platformRef},gt(i));return Re(t)}function gt(r){return{appProviders:[...Ze,...r?.providers??[]],platformProviders:yt}}function pt(){V.makeCurrent()}function Dt(){return new Z}function mt(){return De(document),document}var yt=[{provide:M,useValue:re},{provide:me,useValue:pt,multi:!0},{provide:h,useFactory:mt}];var Ct=[{provide:x,useClass:G},{provide:Te,useClass:$,deps:[w,q,x]},{provide:$,useClass:$,deps:[w,q,x]}],Ze=[{provide:ge,useValue:"root"},{provide:Z,useFactory:Dt},{provide:z,useClass:j,multi:!0,deps:[h]},{provide:z,useClass:Ge,multi:!0,deps:[h]},de,ce,ue,{provide:be,useExisting:de},{provide:Q,useClass:lt},[]],Et=(()=>{class r{constructor(){}static \u0275fac=function(t){return new(t||r)};static \u0275mod=T({type:r});static \u0275inj=_({providers:[...Ze,...Ct],imports:[ne,Le]})}return r})();var Qr=(()=>{class r{_doc;_dom;constructor(e){this._doc=e,this._dom=y()}addTag(e,t=!1){return e?this._getOrCreateElement(e,t):null}addTags(e,t=!1){return e?e.reduce((n,o)=>(o&&n.push(this._getOrCreateElement(o,t)),n),[]):[]}getTag(e){return e&&this._doc.querySelector(`meta[${e}]`)||null}getTags(e){if(!e)return[];let t=this._doc.querySelectorAll(`meta[${e}]`);return t?[].slice.call(t):[]}updateTag(e,t){if(!e)return null;t=t||this._parseSelector(e);let n=this.getTag(t);return n?this._setMetaElementAttributes(e,n):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,t=!1){if(!t){let s=this._parseSelector(e),a=this.getTags(s).filter(c=>this._containsAttributes(e,c))[0];if(a!==void 0)return a}let n=this._dom.createElement("meta");return this._setMetaElementAttributes(e,n),this._doc.getElementsByTagName("head")[0].appendChild(n),n}_setMetaElementAttributes(e,t){return Object.keys(e).forEach(n=>t.setAttribute(this._getMetaKeyMap(n),e[n])),t}_parseSelector(e){let t=e.name?"name":"property";return`${t}="${e[t]}"`}_containsAttributes(e,t){return Object.keys(e).every(n=>t.getAttribute(this._getMetaKeyMap(n))===e[n])}_getMetaKeyMap(e){return St[e]||e}static \u0275fac=function(t){return new(t||r)(u(h))};static \u0275prov=f({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),St={httpEquiv:"http-equiv"};var fe=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275prov=f({token:r,factory:function(t){let n=null;return t?n=new(t||r):n=u(vt),n},providedIn:"root"})}return r})(),vt=(()=>{class r extends fe{_doc;constructor(e){super(),this._doc=e}sanitize(e,t){if(t==null)return null;switch(e){case E.NONE:return t;case E.HTML:return A(t,"HTML")?v(t):Ae(this._doc,String(t)).toString();case E.STYLE:return A(t,"Style")?v(t):t;case E.SCRIPT:if(A(t,"Script"))return v(t);throw new p(5200,!1);case E.URL:return A(t,"URL")?v(t):ve(String(t));case E.RESOURCE_URL:if(A(t,"ResourceURL"))return v(t);throw new p(5201,!1);default:throw new p(5202,!1)}}bypassSecurityTrustHtml(e){return ye(e)}bypassSecurityTrustStyle(e){return Ce(e)}bypassSecurityTrustScript(e){return Ee(e)}bypassSecurityTrustUrl(e){return we(e)}bypassSecurityTrustResourceUrl(e){return Se(e)}static \u0275fac=function(t){return new(t||r)(u(h))};static \u0275prov=f({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Ye(r){return r.flatMap(([i,e])=>e.flatMap(([t,n])=>At(i,t,n)))}function At(r,i,e){return Array.isArray(e)?e.flatMap(t=>Array.isArray(t)?_t(r,i,t[0],t[1]):[[r,t,i]]):[[r,e,i]]}function _t(r,i,e,t){return Array.from({length:t},(n,o)=>[r,e+o*2,i])}function We(r){return Be(JSON.stringify(r)).toString()}function ri(r,i,e,t){let n={x:e,y:t,z:i};for(let o of r)n.z=Math.max(n.z,o[0]+1),n.x=Math.max(n.x,o[1]+1),n.y=Math.max(n.y,o[2]+1);return n}function Ft(r,i,e){let t={x:(g.tileWidth+2)*i/2-r*8+g.tileWidth/2,y:(g.tileHeight+2)*e/2-r*8+g.tileHeight/2,z:e+g.mY*(i+g.mX*r),translate:""};return t.translate=`translate(${t.x},${t.y})`,t}function bt(r){let i=e=>e.pos.z;return r.sort((e,t)=>{let n=i(e),o=i(t);return n<o?-1:n>o?1:0})}function Mt(r,i=!1){return(i?[-r[3]-g.tileHeight-10,-r[0]-30,r[3]+g.tileHeight-10,r[2]+r[0]+g.tileWidth+120]:[r[0]-40,r[1]-20,r[2]+g.tileHeight+40,r[3]+g.tileHeight+20]).join(" ")}function Ke(r,i,e,t=!1){let n=It(r,i,e);return Mt(n,t)}function It(r,i,e){let t=Math.max(i,e),n=[t,t,0,0];for(let o of r)n[0]=Math.min(n[0],o.pos.x),n[1]=Math.min(n[1],o.pos.y),n[2]=Math.max(n[2],o.pos.x),n[3]=Math.max(n[3],o.pos.y);return n}function Xe(r){let i=new Pe(0,0,0,0,0),e=r.map(t=>({z:t[0],x:t[1],y:t[2],v:0,visible:!0,pos:Ft(t[0],t[1],t[2]),source:i}));return bt(e)}function Tt(r){let i=Xe(r),t=[`<svg xmlns="http://www.w3.org/2000/svg" viewBox="${Ke(i,1470,960)}" preserveAspectRatio="xMidYMid meet" height="100%" width="100%">`];for(let n of i)t.push(`<g transform="${n.pos.translate}"><rect fill="#FFF9E5" stroke-width="2" stroke="black" x="0" y="0" width="75" height="100" rx="10" ry="10"></rect></g>`);return t.push("</svg>"),t.join("")}function qe(r){return`data:image/svg+xml;base64,${window.btoa(Tt(r))}`}var yi=(()=>{let i=class i{constructor(){this.layouts={items:[]},this.loaded=!1,this.http=b(Oe),this.sanitizer=b(fe),this.storage=b(Ne)}static layout2loadLayout(t,n){return{id:t.id,name:t.name,by:t.by,cat:t.category,map:n}}get(){return k(this,null,function*(){if(this.loaded)return this.layouts;let t=[],n=yield this.requestBoards();for(let s of n){let a=this.expandLayout(s);a&&t.push(a)}let o=this.loadCustomLayouts();for(let s of o){let a=this.expandLayout(s,!0);a&&t.push(a)}return this.layouts={items:t},this.loaded=!0,this.layouts})}removeAllCustomLayouts(){this.layouts.items=this.layouts.items.filter(t=>!t.custom),this.storage.storeCustomLayouts()}removeCustomLayout(t){this.layouts.items=this.layouts.items.filter(o=>!o.custom||!t.includes(o.id));let n=(this.storage.getCustomLayouts()||[]).filter(o=>!t.includes(o.id));this.storage.storeCustomLayouts(n.length===0?void 0:n)}expandLayout(t,n){let o=Ye(t.map||[]);return{id:t.id&&t.id!==""?t.id:We(o),name:t.name,by:t.by,category:t.cat??"Classic",mapping:o,previewSVG:this.generatePreview(o),custom:n}}loadCustomLayouts(){return this.storage.getCustomLayouts()||[]}storeCustomBoards(t){let n=this.loadCustomLayouts();this.storage.storeCustomLayouts([...n,...t]),this.layouts.items=[...this.layouts.items,...t.map(o=>this.expandLayout(o,!0))]}generatePreview(t){return this.sanitizer.bypassSecurityTrustUrl(qe(t))}requestBoards(){return k(this,null,function*(){return he(this.http.get("assets/data/boards.json"))})}};i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=f({token:i,factory:i.\u0275fac,providedIn:"root"});let r=i;return r})();export{Je as a,ne as b,ir as c,ht as d,Et as e,Qr as f,We as g,ri as h,Ft as i,bt as j,Mt as k,Ke as l,It as m,yi as n};
